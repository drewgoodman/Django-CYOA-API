{% extends '__base.html' %}
{% load static %}
{% block content %}
<h1>{{name}}</h1>
<p>{{description_short}}</p>
<hr>
<h3>Campaign Scenes</h3>
<a href="{% url 'content:create-scene' campaign_id %}" class="btn btn-primary">Create New Scene</a>
<div class="accordion" id="accordionExample">
    {% for scene in scenes %}
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingOne">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{scene.id}}" aria-expanded="true" aria-controls="collapse{{scene.id}}">
          {{ scene.name }}
        </button>
      </h2>
      <div id="collapse{{scene.id}}" class="accordion-collapse collapse" aria-labelledby="heading{{scene.id}}" data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <a href="{{scene.get_content_url}}"><strong>{{ scene.label }}.</strong></a>
          <ul>
              {% for node in scene.nodes %}
              <li>{{node.name}} ({{node.label}})
                  <br>FIRST TIME: {{node.display_text}}
                  <br>REPEAT: {{node.display_txt_visited}}
                  <ul>
                      {% for choice in node.choices %}
                      <li>{{choice.display_text}}</li>
                      {% endfor %}
                  </ul>
              </li>
              {% endfor %}
          </ul>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

{% endblock content %}